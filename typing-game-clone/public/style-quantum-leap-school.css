*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
/* Quantum Leap School themed background: deep space gradient with subtle starfield,
   plus a faint notebook/grid and a soft school emblem watermark. */
body{font-family:Inter, system-ui, Arial, sans-serif;color:#e6eef8;display:flex;flex-direction:column;min-height:100vh;position:relative}

/* Layered background: stars + deep-space gradient + subtle grid (notebook) */
body{
  background-color:#071029;
  background-image:
    /* subtle star glows */
    radial-gradient(ellipse at 10% 10%, rgba(255,255,255,0.04) 0%, rgba(255,255,255,0) 10%),
    radial-gradient(ellipse at 90% 90%, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0) 8%),
    /* deep space base */
    linear-gradient(180deg,#071033 0%, #071a3a 48%, #041022 100%),
    /* faint notebook/grid: horizontal and vertical hairlines */
    repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0 1px, rgba(255,255,255,0) 1px 36px),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.012) 0 1px, rgba(255,255,255,0) 1px 36px);
  background-blend-mode: screen, screen, normal, overlay, overlay;
  background-size: auto, auto, auto, 100% 100%, 100% 100%;
}

/* A soft emblem/watermark that evokes a school crest / quantum portal */
body::after{
  content:'';
  position:fixed;
  left:6vw;
  bottom:8vh;
  width:36vmin;
  height:36vmin;
  pointer-events:none;
  mix-blend-mode:screen;
  opacity:0.08;
  background: radial-gradient(circle at 30% 35%, rgba(125,211,252,0.95) 0%, rgba(125,211,252,0.25) 6%, rgba(96,165,250,0.08) 18%, rgba(96,165,250,0) 40%),
              conic-gradient(from 210deg, rgba(125,211,252,0.06), rgba(96,165,250,0.02));
  filter:blur(6px) saturate(1.05);
  transform: rotate(-8deg);
}

/* Slight parallax movement for the emblem to feel alive */
@keyframes emblemFloat { 0% { transform: translateY(0) rotate(-8deg) } 50% { transform: translateY(-6px) rotate(-8deg) } 100% { transform: translateY(0) rotate(-8deg) } }
body::after{ animation: emblemFloat 8s ease-in-out infinite }
/* Decorative floating watermark text (keeps "Quantum Leap School" in the back) */
body::before{
  content: "Quantum Leap School";
  position:fixed;
  right:4vw;
  top:12vh;
  pointer-events:none;
  z-index:0;
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:8px;
  white-space:nowrap;
  font-size:12vmin;
  color:rgba(125,211,252,0.06);
  mix-blend-mode:screen;
  filter:blur(0.6px) saturate(1.05);
  opacity:0.08;
  transform: rotate(12deg);
  transform-origin:center;
  will-change:transform,opacity;
  animation: whir 12s linear infinite;
}

@keyframes whir {
  0%   { transform: rotate(12deg) translateY(0) scale(1) }
  25%  { transform: rotate(6deg)  translateY(-6px) scale(1.01) }
  50%  { transform: rotate(-6deg) translateY(-10px) scale(1.02) }
  75%  { transform: rotate(6deg)  translateY(-6px) scale(1.01) }
  100% { transform: rotate(12deg) translateY(0) scale(1) }
}
.topbar{display:flex;gap:12px;align-items:center;padding:12px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter:blur(4px)}.topbar .letters{flex:1}
.brand{font-weight:800;font-size:18px;color:#bfe7ff;padding:6px 10px;border-radius:8px;text-shadow:0 6px 18px rgba(11,15,42,0.6);letter-spacing:0.6px}
.brand::after{content:'';display:inline-block;margin-left:8px;width:10px;height:10px;background:radial-gradient(circle,#7dd3fc,#60a5fa);border-radius:50%;box-shadow:0 6px 20px rgba(96,165,250,0.35)}
.topbar .current{margin-left:6px;font-weight:700}
.topbar button{background:#2563eb;border:0;padding:8px 12px;border-radius:6px;color:white;cursor:pointer}
.controls{display:flex;gap:8px;align-items:center}
.start-btn-large{background:#10b981;padding:12px 18px;border-radius:12px;font-size:18px}
.voice-toggle{color:#e6eef8;font-size:14px;display:flex;align-items:center;gap:6px}
#gameArea{flex:1;position:relative;overflow:hidden}
.overlay{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:rgba(2,6,23,0.6);padding:20px;border-radius:10px}
.hint{position:absolute;right:18px;top:18px;background:rgba(255,255,255,0.06);padding:12px 14px;border-radius:10px;font-size:20px;color:#fff}
.footer{padding:10px;text-align:center;font-size:13px;opacity:0.8}
.subtle-credit{font-size:8px;color:rgba(230,238,248,0.03);text-align:center;margin-top:8px;transform:translateY(2px)}
.bubble{position:absolute;padding:22px 28px;border-radius:999px;background:linear-gradient(135deg,#60a5fa,#7dd3fc);color:#041025;font-weight:800;box-shadow:0 10px 28px rgba(2,6,23,0.6);transform-origin:center center;cursor:pointer;user-select:none;font-size:22px}
.bubble.small{padding:16px 20px;font-size:18px}
.bubble.medium{padding:20px 24px;font-size:22px}
.bubble.large{padding:24px 28px;font-size:26px}

@keyframes floatUp {
  from { transform: translateY(0) }
  to   { transform: translateY(-120vh) }
}

.pop-animation{animation:pop 220ms ease-out forwards}
@keyframes pop { to { transform: scale(1.4); opacity:0 } }

.score-spark{position:absolute;pointer-events:none;color:#fffbeb;font-weight:800;text-shadow:0 4px 10px rgba(2,6,23,0.6);}
/* responsive */
@media (max-width:600px){.bubble{padding:10px 12px;font-size:14px}}
/* mobile keyboard */
.touch-keyboard{position:fixed;left:0;right:0;bottom:0;padding:8px;background:linear-gradient(180deg,rgba(2,6,23,0.95),rgba(2,6,23,0.98));display:none;justify-content:center;gap:6px}
.touch-keyboard .key{background:#1f2937;color:#fff;border-radius:10px;padding:12px 14px;font-size:20px;min-width:44px;text-align:center;user-select:none}
.touch-keyboard.row{display:flex;justify-content:center;gap:6px;margin-bottom:6px}
@media (max-width:700px){
  .touch-keyboard{display:flex;flex-direction:column}
  .topbar{padding:8px}
  .start-btn-large{font-size:16px;padding:10px 14px}
  .bubble{font-size:20px;padding:18px 22px}
}
